# Non Deterministic Planning
**How to represent domain, in a compact way?**
we'll introduce a variant of PDDL such that we can express non-deterministic actions, using the `oneof` key. 
- **oneof**: allows to specify a set of possible effects.
- `oneof(e1 ... en)`, where each $a_i$ is a deterministic effect. 
  After executing the action, one and only one effect will be applied, which is not known before the execution.

We'll use back the BlocksWorld domain
```
(define (domain BlocksWorld)
	(:requirements :non-deterministic :equality :typing)
	(:types block)
	(:predicates
		(holding ?b - block) ; arm holding block ?b
		(emptyhand) ; arm is not holding anything
		(clear ?b - block) ; block ?b not having blocks on top
		(on-table ?b - block) ; block ?b is on table
		(on ?b1 ?b2 - block) ; block ?b1 is on top of ?b2
	)
	
	; Action list
	
	(:action pick-up
		:parameters (?b1 ?b2 - block)
		:precondition (
			(and 
				(not (= ?b1 ?b2))
				(emptyhand)
				(clear ?b1)
				(on ?b1 ?b2)
			)
		)
		:effect ( ; block may slip off of the arm and fall
			oneof(
				and( ; effect accounting of successful execution
					(clear ?b2)
					(holding ?b1)
					(not (emptyhand))
					(not (on ?b1 ?b2))
					(not (clear ?b1))
				)
				and( ; effect of failing execution (block falls on table)
					(clear ?b2)
					(not (on ?b1 ?b2))
					(on-table ?b1)
					; emptyhand and clear ?b1 DID NOT CHANGE from precon
				)
			)
		)
	)
	
	(:action pick-up-from-table
		:parameters (?b - block)
		:precondition(
			and( (on-table ?b) (emptyhand) (clear ?b))
		)
		:effect(oneof
			(and ) ; unsuccessful event
			(and (not (clear ?b)) (not (emptyhand)) 
				(holding ?b) (not(ontable ?b))
			)
		)
	)
	
	(:action put-on-block
		:parameters (?b1 ?b2 - block)
		:precondition ( and( (holding ?b1) (clear ?b2)) )
		:effect(oneof
			(and (on ?b1 ?b2) (clear ?b1) (not (clear b2)) 
				(emptyhand) (not (holding ?b1)))
			(and (on-table ?b1) (clear ?b1) (emptyhand) (not(holding ?b1)))
		)
	)

	(:action put-down
		:parameters (?b - block)
		:precondition ( (holding ?b) )
		:effect ( and (ontable ?b) (emptyhand) (not (holding ?b)) (clear ?b) )
	)
)
```


A:
- Parameters
- Precondition
- effect
Same as in classical planning;
