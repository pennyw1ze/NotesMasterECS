# Assembly x86
Remeber principle concepts:
- **Words**, 16-bit long, **dword** is 32-bit long;
- **Endianess**, big is from most important to less, little is the opposite;
- **Registers**: Different categories:
	- **General purpose**: store data, ecc;
	- **Status**: hold status of the processor;
	- **Program counter**: hold address of istruction being executed;
	x86 general purpose are 32-bit long.
	We will use 8 general purpose:
	EAX, EBX, ECX, EDX, ESI, EDI, ESP, EBP.
- **Instruction cycle**: Fetch (CPU reads instructions from EIP), **decode** (control unit determines meaning of instructions), **execute** (carry out compilation);
- Remember the **stack** grows **DOWN!**
- Basic instructions:
	- mov dest,src
	- push
	- pop
	- add dest,src
	- sub dest,src
	- inc
	- dec
	- not
	- neg
	- xor dest,src
	- and dest,src
	- or dest,src
	- shr dest,src
	- shl dest,src
	- sar dest,src
	- sal dest,src
	- jmp
	- cmp dest,src
	- jcc (je,jz,jg,jl,jnl,jge,ecc...)
	- test 
	- call
	- ret
	- lea
- **Functions**: functions are just a convention, it is still all peace of code. A function is invoked with a call and execute the code untill returning a value with the ret instruction (in the return_address which is assigned at calling time);
	- Parameters are passed via stack;
	- Registers must be preserved in order to not be modified by the function. We have caller-save (pushed before a call) registers and calle-save registers (pushed in stack when the callee needs to use them);
	- On return, ESP must be re-aligned;
- **LEA**: Load Effective Address istruction, define memory address and writes it to a destination register;

---
> Lecture 2

### Goals

- **Monitoring** and attack **prevention**:
	- Identify patterns;
	- Rules for monitoring;
	- Design **resilient** systems;
- Incident **response**:
	- Identify compromised asstes;
	- Contain attacks expansions;
	- **Eradicate** the attack and **recover** efficiently;

### Signatures
Make use data extracted from a host in order to identify the presence of the malware.
Ex: Hash(malware)
This works like a signature of the malware.
- **Host based**: identify process/files/ecc. on the victims pc;
- **Network** signature: analyze network traffic;
- **Behavioural** signatures: Focus on what the malware does on the system;

