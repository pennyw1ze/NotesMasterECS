# FOL Tableaux
In general, in First-Order Logic we have the same reasoning task as in propositional logic. In general, every PL formula can be expressed in FOL. We will develop then a **tableaux method** that works with FOL formulas.

> [!WARNING]
> As always, Tableaux is in NP. There isn't a standardized set of steps, and going through different paths will result in different outcomes

# Tableaux Calculus
The Tableaux Calculus is an algorithm solving problem of satisfiability. If a formula in FOL is satisfiable, then there will exist an open branch in the tableaux of this formula. _It may happen that the tableaux is infinite._

>A tableau is a rooted tree, where each node carries a first order sentence (closed formula), and the children of a node n are generated by applying a set of expansion rules to n or to one of the ancestors of n.

The expansion rules for first order semantic tableaux are those for the PL tableaux, but they are extended with the quantifiers.


| Rule          | Formula 1                                   | Formula 2                                      | Explanation                                                        |
| ------------- | ------------------------------------------- | ---------------------------------------------- | ------------------------------------------------------------------ |
| $\gamma$ rule | $\frac{\forall x.\phi(x)}{\phi(t)}$         | $\frac{\neg \exists x.\phi(x)}{ \neg \phi(t)}$ | Where t is a term free for $x$ in $\phi$                           |
| $\delta$ rule | $\frac{\neg\forall x.\phi(x)}{\neg\phi(t)}$ | $\frac{\exists x.\phi(x)}{\phi(c)}$            | where c is a new constant not previously appearing in the tableaux |
We'll have substitution rules here too. If $\phi(x)$ is a free variable and t is a term, we'll use $\phi(t)$ instead of the more precise $\phi[x/t]$ .
For example:
- $P(x,y,f(x))[x/a] \longrightarrow P(a, y, f(a))$
- $\exists x.P(x,x) \wedge Q(x)[x/c] \longrightarrow \exists x.P(x,x) \wedge Q(c)$
- $\forall x.P(x, y)[y/f (x)] \longrightarrow$ Not allowed, x is not free
### Universal Quantification Rule
$\displaystyle \frac{\forall x \phi(x)}{\phi(t)}$ , with t being a free variable in x
A term t that occurs in the tableaux denotes an object of the domain, therefore $\phi(t)$ must be true for all terms $t$ that occurs in the tableaux
### Existential Quantification rule
$\displaystyle \frac{\exists x.\phi(x)}{\phi(c)}$ for a new constant c
given the quantifier, we don't know which object holds the property, but we don't know which. For this reason we cannot apply this rule to other terms that appear in the tableaux. Trick is to introduce an unconditioned object, which points to an "unknown" variable. We allow to infer $\phi(c)$ from $\exists x \phi(x)$, where c is fresh.

We'll say that a branch of a tableaux is **closed** if it contains a pair of unsatisfiable formulas of the form $\phi$ and $\neg\phi$. A branch is **open** if it's not closed. A tableau is said to be closed if each of its paths is closed.